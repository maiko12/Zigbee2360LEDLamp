(()=>{"use strict";var e={667:(e,n,t)=>{t.d(n,{A:()=>a});var i=t(601),s=t.n(i),o=t(314),r=t.n(o)()(s());r.push([e.id,"html, body {\n  background-color: black;\n  font-family: Roboto, sans-serif;\nmargin:0;\npadding:0;\n}\n.site-container {\nmargin: 0 auto;\nmax-width:500px;\n  padding: 5px;\n  color: white;\n}\n\n.header {\nheight:100px;\nfont-size:30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\nbackground:white;\n}\n\n#logo {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.footer {\nwidth:200px;\nmargin: 0 auto;\nmargin-top:50px;\n}\n\n.footer img{\nwidth:100%;\n}\n\n.slideshow-container {\ndisplay:flex;\n  overflow: hidden;\n  margin-top: 20px;\n  margin-bottom: 20px;\njustify-content: space-between;\n}\n\n.slideshow-container img, svg {\n  width: 100%;\n  height: auto;\n}\n.slide-container {\nwidth:300px;\n}\n\n.arrows {\ncolor:#ccc;\nfont-size:60px;\ndisplay:inline-block;\n-webkit-transform:scale(2,1); /* Safari and Chrome */\n-moz-transform:scale(2,1); /* Firefox */\n-ms-transform:scale(2,1); /* IE 9 */\n-o-transform:scale(2,1); /* Opera */\ntransform:scale(1,2); /* W3C */\n}\n\n#caption {\n  text-align: center;\n  font-size: 14px;\n  margin-top: 40px;\n}\n\n.slider-container {\n  text-align: center;\n  margin-top: 100px;\n  margin-bottom: 20px;\n}\n\n.slider-label {\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.slider {\n  width: 80%;\n  margin: 50 auto;\n  position: relative;\n}\n\n.slider input {\n  width: 100%;\n  height: 1px;\n  margin: 0px;\n  border-radius: 50%;\n  background: none;\n  outline: none;\n  opacity: 1;\n  -webkit-transition: .2s;\n  transition: opacity .2s;\n}\n\n.slider input:hover {\n  opacity: 1;\n}\n\n.slider input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.slider1 input::-webkit-slider-thumb {\n\n  background: rgb(255, 255, 255);\n}\n\n.slider2 input::-webkit-slider-thumb {\n  background: white;\n}\n\n.slider1 {\nborder-radius: 1px;\nheight: 2px;\n  background: linear-gradient(to right, rgb(0, 0, 0), white);\n}\n\n.slider2 {\nborder-radius: 1px;\nheight: 2px;\n  background: linear-gradient(to right, rgb(255, 200, 0), white);\n}\n\n\n.state {\n  font-size: 1.2rem;\n  color:#28454e00;\n}\n\n\n.modal {\n  display: none;\n  position: fixed;\n  z-index: 10;\n  top: 1em;\n  max-height: calc(100vh - 80px);\n  min-height: 25%;\n  width: inherit;\n  overflow-y: auto;\n  background-color: #000000;\n  padding: 20px;\n  padding-top: 0;\n  border: 1px solid #888;\n}\n\n.modal-close:hover,\n.modal-close:focus {\n  color: rgb(255, 255, 255);\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.modal-close {\n  position: absolute;\n  right: 0.5em;\n  color: #aaa;\n  font-size: 3em;\n  font-weight: bold;\n}\n\n\n\n\n.modal-background {\n  background: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  z-index: 2;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  top: 0;\n  display: none;\n}\n\n\n.nav-button {\n  \n  width:fit-content;\n  background:none;\n  font-size:1em;\n  border:0;\n  right:0;\n  position: absolute;\n}\n\n",""]);const a=r},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,i,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(i)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(r[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);i&&r[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),s&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=s):c[4]="".concat(s)),n.push(c))}},n}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var n=[];function t(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function i(e,i){for(var o={},r=[],a=0;a<e.length;a++){var d=e[a],l=i.base?d[0]+i.base:d[0],c=o[l]||0,h="".concat(l," ").concat(c);o[l]=c+1;var p=t(h),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)n[p].references++,n[p].updater(u);else{var m=s(u,i);i.byIndex=a,n.splice(a,0,{identifier:h,updater:m,references:1})}r.push(h)}return r}function s(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,s){var o=i(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var a=t(o[r]);n[a].references--}for(var d=i(e,s),l=0;l<o.length;l++){var c=t(o[l]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}o=d}}},659:e=>{var n={};e.exports=function(e,t){var i=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var s=void 0!==t.layer;s&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,s&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(i,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(i){var s=n[i];if(void 0!==s)return s.exports;var o=n[i]={id:i,exports:{}};return e[i](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var i=t(72),s=t.n(i),o=t(825),r=t.n(o),a=t(659),d=t.n(a),l=t(56),c=t.n(l),h=t(540),p=t.n(h),u=t(113),m=t.n(u),g=t(667),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=d().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=p(),s()(g.A,f),g.A&&g.A.locals&&g.A.locals;let y,x,b,v=[];function w(){v.forEach((e=>{e.slider1.value=0,e.slider2.value=0}))}class E{constructor(e,n=10){this.url=e,this.maxRetries=n,this.reconnectInterval=1e3,this.maxReconnectInterval=3e4,this.reconnectAttempts=0,this.connect()}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("WebSocket connection established"),this.reconnectAttempts=0},this.ws.onmessage=e=>{console.log("Received data: "+e.data);try{const n=JSON.parse(e.data);if(n.hasOwnProperty("config")){const e=n.config;Object.entries(e).forEach((([e,n])=>{const t=document.getElementById(e);t&&("INPUT"===t.tagName&&"text"===t.type&&(t.placeholder=n),"BUTTON"===t.tagName&&t.classList.toggle("active",n))}))}n.hasOwnProperty("leds")&&Array.isArray(n.leds)&&n.leds.forEach((e=>{v[e.index]?(console.log(`Updating LED instance for index ${e.index}`),v[e.index].set(e)):(console.log(`Creating new LED instance for index ${e.index}`),v[e.index]=new k(e))}))}catch(e){console.error("Error processing the message:",e)}},this.ws.onclose=e=>{console.log(`WebSocket connection closed: ${e.reason}`),this.reconnect()},this.ws.onerror=e=>{console.log(`WebSocket error: ${e.message}`),this.ws.close()}}reconnect(){if(this.reconnectAttempts>=this.maxRetries)return void console.log("Maximum reconnect attempts reached. No longer attempting to reconnect.");this.reconnectAttempts++;const e=Math.min(this.reconnectInterval*2**this.reconnectAttempts,this.maxReconnectInterval);console.log(`Attempting to reconnect in ${e/1e3} seconds`)}send(e){this.ws.readyState===WebSocket.OPEN?this.ws.send(e):console.log("WebSocket is not open. Message not sent.")}close(){this.ws.close()}}class k{constructor(e){this.index=e.index,this.position=e.position,this.positionContainer=document.getElementById("sliderContainers"),this.createElements(e),this.addEventListeners()}createElements(e){this.slidercontainer=document.getElementById(`sliderContainer_${this.index}`),this.slidercontainer?console.log(`Element for index ${this.index} already exists.`):(this.slidercontainer=document.createElement("div"),this.slidercontainer.id=`sliderContainer_${this.index}`,this.slidercontainer.className="slider-container",this.sliderlabel=document.createElement("div"),this.sliderlabel.className="slider-label",this.sliderlabel.innerHTML=`${this.position}`,this.slidercontainer1=document.createElement("div"),this.slidercontainer1.className="slider slider1",this.slider1=document.createElement("input"),this.slider1.type="range",this.slider1.className="slider",this.slider1.id=`slider1_${this.index}`,this.slider1.min=0,this.slider1.max=1024,this.slider1.step=10,this.slider1.value=e.warmCycle,this.slider1text=document.createElement("p"),this.slider1text.className="state",this.slider1text.id=`slider1text_${this.index}`,this.slider1text.innerHTML=`Brightness: <span id="sliderValue_${this.index}"></span> &percnt`,this.slidercontainer2=document.createElement("div"),this.slidercontainer2.className="slider slider2",this.slider2=document.createElement("input"),this.slider2.type="range",this.slider2.className="slider",this.slider2.id=`slider2_${this.index}`,this.slider2.min=0,this.slider2.max=1024,this.slider2.step=10,this.slider2.value=e.coldCycle,this.slider2text=document.createElement("p"),this.slider2text.className="state",this.slider2text.id=`slider2text_${this.index}`,this.slider2text.innerHTML=`Brightness: <span id="slider2Value_${this.index}"></span> &percnt`,this.slidercontainer.appendChild(this.sliderlabel),this.slidercontainer.appendChild(this.slidercontainer1),this.slidercontainer1.appendChild(this.slider1),this.slidercontainer1.appendChild(this.slider1text),this.slidercontainer.appendChild(this.slidercontainer2),this.slidercontainer2.appendChild(this.slider2),this.slidercontainer2.appendChild(this.slider2text),this.positionContainer.appendChild(this.slidercontainer))}addEventListeners(){this.slidercontainer.querySelectorAll("input").forEach((e=>{e.addEventListener("input",(()=>{const e={leds:[{index:this.index,warmCycle:this.slider1.value,coldCycle:this.slider2.value}]};y.send(JSON.stringify(e))}))}))}set(e){this.slider1.value=e.warmCycle,this.slider2.value=e.coldCycle}}class S{constructor(e,n,t,i,s){this.scanButton=document.getElementById(e),this.spinner=document.getElementById(n),this.wifiList=document.getElementById(t),this.ssidInput=document.getElementById(i),this.passwordInput=document.getElementById(s)}async startScan(){this.toggleButtonSpinner(!0),await this.performWifiScan(),this.toggleButtonSpinner(!1)}async performWifiScan(){try{const e=await fetch("/doScanWiFi");if(!e.ok)throw this.handleError("Error"),new Error("Network response was not ok");const n=await e.json();this.updateWifiList(n)}catch(e){this.handleError("Error"),console.error("Error:",e)}finally{this.toggleButtonSpinner(!1)}}handleError(e){this.scanButton&&(this.scanButton.innerHTML=e,this.scanButton.style.background="red",this.scanButton.style.color="white",setTimeout((()=>{this.scanButton&&(this.scanButton.innerHTML="Scan WiFi",this.scanButton.style.background="",this.scanButton.style.color="")}),5e3))}toggleButtonSpinner(e){this.scanButton&&(this.scanButton.innerHTML=e?"":"Scan WiFi"),this.spinner&&(this.spinner.style.display=e?"inline-block":"none")}updateWifiList(e){this.wifiList.innerHTML="";const n=document.createElement("ul");n.style.listStyle="none",n.style.padding="0",e.forEach((e=>{const t=document.createElement("li");this.applyThemeStyles(t),t.style.margin="5px 0",t.style.padding="10px",t.style.cursor="pointer",t.onclick=()=>{this.ssidInput.value=e.ssid,this.passwordInput.focus()};const i=document.createElement("div");i.textContent=`SSID: ${e.ssid}`,t.appendChild(i);const s=document.createElement("div");s.textContent=`Signal: ${this.getSignalStrength(e.rssi)}`,t.appendChild(s);const o=document.createElement("div");o.textContent=`Encryption: ${this.getEncryptionType(e.encryption)}`,t.appendChild(o),n.appendChild(t)})),this.wifiList.appendChild(n)}applyThemeStyles(e){document.body.classList.contains("dark-mode")?(e.style.border="1px solid #3498db",e.style.backgroundColor="#000",e.style.color="#fff"):(e.style.border="1px solid #ccc",e.style.backgroundColor="#f9f9f9",e.style.color="#333")}getEncryptionType(e){switch(e){case 0:return"Open";case 1:return"WEP";case 2:return"WPA PSK";case 3:return"WPA2 PSK";case 4:return"WPA/WPA2 PSK";case 5:return"WPA2 Enterprise";case 6:return"Max";default:return"Unknown"}}getSignalStrength(e){return e>=-50?"Excellent":e>=-60?"Very Good":e>=-70?"Good":e>=-80?"Moderate":"Weak"}}class C{constructor(e,n){this.modal=document.getElementById(e),this.openBtn=document.getElementById(e.replace("_modal","_bmodal")),this.background=document.getElementById("modal-background"),this.closeBtn=this.modal.querySelector(".modal-close"),this.plusButton=this.modal.querySelector(".plusButton"),this.content=this.modal.querySelector(".modal-content"),this.index=n,this.componentCounter=[],this.init()}init(){this.closeBtn&&this.closeBtn.addEventListener("click",(()=>this.closeModal())),this.openBtn&&this.openBtn.addEventListener("click",(()=>this.openModal())),this.background&&this.background.addEventListener("click",(()=>this.closeModal()))}openModal(){this.modal&&this.background&&(this.modal.style.display="block",this.background.style.display="block",document.body.style.overflow="hidden")}closeModal(){this.modal&&this.background&&(this.modal.style.display="none",this.background.style.display="none",document.body.style.overflow="auto")}}function B(){document.getElementById("password").type=this.checked?"text":"password"}document.addEventListener("DOMContentLoaded",(function(){x=new S("scanWiFi","scanWiFiSpinner","wifi-list","ssid","password"),document.getElementById("toggle-password").addEventListener("change",B),b=new C("wifi_modal"),y=new E("ws://"+window.location.hostname+"/ws"),document.getElementById("powerButton").addEventListener("click",w)}))})();